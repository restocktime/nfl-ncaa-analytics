<!DOCTYPE html>
<html>
  <head>
    <title>Fantasy Hub</title>
    <style>
      body {
        background-color: #0a0e1a;
        color: white;
        font-family: Arial, sans-serif;
        margin: 0;
        padding: 20px;
      }
      .container {
        max-width: 1200px;
        margin: 0 auto;
      }
      .header {
        text-align: center;
        background-color: #1a202c;
        padding: 30px;
        border-radius: 10px;
        margin-bottom: 30px;
      }
      .header h1 {
        color: #667eea;
        font-size: 2.5rem;
        margin: 0 0 10px 0;
      }
      .nav-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
        gap: 20px;
        margin-bottom: 30px;
      }
      .nav-card {
        background-color: #1a202c;
        border: 1px solid rgba(255, 255, 255, 0.1);
        border-radius: 10px;
        padding: 30px;
        text-align: center;
        cursor: pointer;
        transition: transform 0.3s ease;
      }
      .nav-card:hover {
        transform: translateY(-5px);
        border-color: #667eea;
      }
      .nav-card h3 {
        color: #667eea;
        font-size: 1.5rem;
        margin: 0 0 15px 0;
      }
      .nav-card p {
        color: #a0aec0;
        margin: 0;
      }
      .back-btn {
        position: fixed;
        top: 20px;
        right: 20px;
        background-color: #1a202c;
        color: white;
        padding: 15px 20px;
        text-decoration: none;
        border-radius: 5px;
        border: 1px solid rgba(255, 255, 255, 0.1);
      }
      .back-btn:hover {
        background-color: #667eea;
      }
      .content {
        background-color: #1a202c;
        border-radius: 10px;
        padding: 30px;
        margin-top: 30px;
        display: none;
      }
      .content.active {
        display: block;
      }
      .content h2 {
        color: #667eea;
        font-size: 2rem;
        margin: 0 0 20px 0;
      }
      .feature-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
        gap: 20px;
      }
      .feature-card {
        background-color: #121825;
        padding: 20px;
        border-radius: 8px;
        border: 1px solid rgba(255, 255, 255, 0.1);
      }
      .feature-card h4 {
        color: #667eea;
        margin: 0 0 10px 0;
      }
      .feature-card p {
        color: #a0aec0;
        margin: 5px 0;
      }
      .status {
        position: fixed;
        bottom: 20px;
        left: 20px;
        background-color: #1a202c;
        padding: 10px 15px;
        border-radius: 5px;
        border: 1px solid rgba(255, 255, 255, 0.1);
        color: #4ade80;
        font-size: 0.9rem;
      }
    </style>
  </head>
  <body>
    <a href="index.html" class="back-btn">‚Üê Back to NFL Analytics</a>

    <div class="container">
      <div class="header">
        <h1>üèà Fantasy Football Hub</h1>
        <p>Your complete fantasy football management center</p>
        <div style="margin-top: 20px">
          <a
            href="revolutionary-fantasy-hub.html"
            style="
              background: linear-gradient(135deg, #4ade80 0%, #22c55e 100%);
              color: white;
              padding: 15px 30px;
              text-decoration: none;
              border-radius: 10px;
              font-weight: bold;
              display: inline-block;
              margin-right: 15px;
              transition: all 0.3s ease;
            "
            onmouseover="this.style.transform='translateY(-2px)'"
            onmouseout="this.style.transform='translateY(0)'"
          >
            üöÄ Try Revolutionary Hub
          </a>
          <a
            href="revolutionary-fantasy-demo.html"
            style="
              background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
              color: white;
              padding: 15px 30px;
              text-decoration: none;
              border-radius: 10px;
              font-weight: bold;
              display: inline-block;
              transition: all 0.3s ease;
            "
            onmouseover="this.style.transform='translateY(-2px)'"
            onmouseout="this.style.transform='translateY(0)'"
          >
            üìä Live Demo
          </a>
        </div>
      </div>

      <div class="nav-grid">
        <div class="nav-card" onclick="showSection('dashboard')">
          <h3>üìä Fantasy Dashboard</h3>
          <p>Overview of your team and weekly performance</p>
        </div>

        <div class="nav-card" onclick="showSection('lineup')">
          <h3>üë• Lineup Optimizer</h3>
          <p>AI-powered lineup recommendations</p>
        </div>

        <div class="nav-card" onclick="showSection('waivers')">
          <h3>üîç Waiver Wire</h3>
          <p>Smart waiver wire analysis</p>
        </div>

        <div class="nav-card" onclick="showSection('trades')">
          <h3>üîÑ Trade Analyzer</h3>
          <p>Advanced trade evaluation</p>
        </div>

        <div class="nav-card" onclick="showSection('projections')">
          <h3>üìà Player Projections</h3>
          <p>ML-powered performance projections</p>
        </div>

        <div class="nav-card" onclick="showSection('settings')">
          <h3>‚öôÔ∏è League Setup</h3>
          <p>Configure your league settings</p>
        </div>
      </div>

      <div id="dashboard" class="content">
        <h2>üìä Fantasy Dashboard</h2>
        <div class="feature-grid">
          <div class="feature-card">
            <h4>Current Lineup</h4>
            <p><strong>QB:</strong> Josh Allen (BUF) - 24.5 pts</p>
            <p><strong>RB:</strong> Christian McCaffrey (SF) - 22.8 pts</p>
            <p><strong>RB:</strong> Derrick Henry (BAL) - 18.3 pts</p>
            <p><strong>WR:</strong> Tyreek Hill (MIA) - 19.7 pts</p>
            <p><strong>WR:</strong> Davante Adams (LV) - 17.2 pts</p>
            <p><strong>TE:</strong> Travis Kelce (KC) - 16.8 pts</p>
            <p><strong>FLEX:</strong> Saquon Barkley (PHI) - 15.9 pts</p>
            <p style="color: #4ade80; font-weight: bold">
              Projected Total: 156.5 points
            </p>
          </div>
          <div class="feature-card">
            <h4>This Week's Matchups</h4>
            <p>Josh Allen vs MIA (Favorable)</p>
            <p>CMC @ SEA (Neutral)</p>
            <p>Tyreek Hill @ BUF (Tough)</p>
            <p>Travis Kelce vs LV (Favorable)</p>
          </div>
          <div class="feature-card">
            <h4>Injury Watch</h4>
            <p>‚úÖ All players currently healthy</p>
            <p>üìÖ Monitor practice reports Wednesday</p>
            <p>üè• No injury concerns this week</p>
          </div>
          <div class="feature-card">
            <h4>Weekly Outlook</h4>
            <p>üí™ Strong lineup this week</p>
            <p>üéØ Consider starting all projected players</p>
            <p>üå§Ô∏è Weather looks good for all games</p>
          </div>
        </div>
      </div>

      <div id="lineup" class="content">
        <h2>üë• Lineup Optimizer</h2>
        <div class="feature-grid">
          <div class="feature-card">
            <h4>Optimization Results</h4>
            <p>Current lineup is <strong>94% optimized</strong></p>
            <p>Potential improvement: <strong>+3.2 points</strong></p>
            <p>Recommended changes: <strong>2</strong></p>
          </div>
          <div class="feature-card">
            <h4>Suggested Changes</h4>
            <p>1. Start Jayden Reed over Courtland Sutton (+2.1 pts)</p>
            <p>2. Consider Roschon Johnson in FLEX (+1.1 pts)</p>
          </div>
          <div class="feature-card">
            <h4>Risk Analysis</h4>
            <p>Current lineup: <strong>Moderate risk</strong></p>
            <p>Floor: 128.3 points</p>
            <p>Ceiling: 184.7 points</p>
          </div>
          <div class="feature-card">
            <h4>Matchup Grades</h4>
            <p>QB: A+ (vs weak pass defense)</p>
            <p>RB: A- (good matchups)</p>
            <p>WR: B+ (mixed matchups)</p>
            <p>TE: A (favorable target share)</p>
          </div>
        </div>
      </div>

      <div id="waivers" class="content">
        <h2>üîç Waiver Wire Intelligence</h2>
        <div class="feature-grid">
          <div class="feature-card">
            <h4>Top Targets</h4>
            <p>1. Jayden Reed (WR, GB) - 92% opportunity score</p>
            <p>2. Roschon Johnson (RB, CHI) - 87% opportunity score</p>
            <p>3. Darnell Mooney (WR, ATL) - 84% opportunity score</p>
          </div>
          <div class="feature-card">
            <h4>Breakout Candidates</h4>
            <p>Tank Dell (WR, HOU) - Injury return</p>
            <p>Tyjae Spears (RB, TEN) - Increased role</p>
            <p>Quentin Johnston (WR, LAC) - Target increase</p>
          </div>
          <div class="feature-card">
            <h4>Injury Replacements</h4>
            <p>Monitor practice reports</p>
            <p>Handcuff recommendations available</p>
            <p>Emergency pickups identified</p>
          </div>
          <div class="feature-card">
            <h4>Trending Up</h4>
            <p>Players gaining ownership</p>
            <p>Snap count increases</p>
            <p>Target share improvements</p>
          </div>
        </div>
      </div>

      <div id="trades" class="content">
        <h2>üîÑ Trade Analyzer</h2>
        <div class="feature-grid">
          <div class="feature-card">
            <h4>Trade Opportunities</h4>
            <p>Your Davante Adams for their Saquon Barkley</p>
            <p style="color: #4ade80">Value: +2.3 pts/week (Favorable)</p>
            <p>
              Your Travis Kelce for their Amon-Ra St. Brown + David Montgomery
            </p>
            <p style="color: #4ade80">Value: +1.8 pts/week (Favorable)</p>
          </div>
          <div class="feature-card">
            <h4>Market Values</h4>
            <p>Josh Allen: 28.5 trade points</p>
            <p>Christian McCaffrey: 32.1 trade points</p>
            <p>Tyreek Hill: 26.8 trade points</p>
            <p>Travis Kelce: 24.3 trade points</p>
          </div>
          <div class="feature-card">
            <h4>Trade Calculator</h4>
            <p>Enter players to analyze trade value</p>
            <p>Rest-of-season projections</p>
            <p>Playoff schedule analysis</p>
            <p>Position scarcity factors</p>
          </div>
          <div class="feature-card">
            <h4>Trade Tips</h4>
            <p>Buy low on underperforming stars</p>
            <p>Sell high on overperforming players</p>
            <p>Consider playoff schedules</p>
            <p>Address positional needs</p>
          </div>
        </div>
      </div>

      <div id="projections" class="content">
        <h2>üìà Player Projections</h2>
        <div class="feature-grid">
          <div class="feature-card">
            <h4>Top QB Projections</h4>
            <p>Josh Allen (BUF): 24.5 pts</p>
            <p>Lamar Jackson (BAL): 23.8 pts</p>
            <p>Jalen Hurts (PHI): 22.9 pts</p>
            <p>Patrick Mahomes (KC): 22.1 pts</p>
          </div>
          <div class="feature-card">
            <h4>Top RB Projections</h4>
            <p>Christian McCaffrey (SF): 22.8 pts</p>
            <p>Austin Ekeler (LAC): 19.4 pts</p>
            <p>Derrick Henry (BAL): 18.3 pts</p>
            <p>Saquon Barkley (PHI): 17.9 pts</p>
          </div>
          <div class="feature-card">
            <h4>Top WR Projections</h4>
            <p>Tyreek Hill (MIA): 19.7 pts</p>
            <p>Davante Adams (LV): 17.2 pts</p>
            <p>Stefon Diggs (BUF): 16.8 pts</p>
            <p>Cooper Kupp (LAR): 16.5 pts</p>
          </div>
          <div class="feature-card">
            <h4>Top TE Projections</h4>
            <p>Travis Kelce (KC): 16.8 pts</p>
            <p>Mark Andrews (BAL): 14.2 pts</p>
            <p>George Kittle (SF): 13.9 pts</p>
            <p>T.J. Hockenson (MIN): 12.7 pts</p>
          </div>
        </div>
      </div>

      <div id="settings" class="content">
        <h2>‚öôÔ∏è League Configuration</h2>
        <div class="feature-grid">
          <div class="feature-card">
            <h4>Import League</h4>
            <p>Connect to ESPN, Yahoo, or Sleeper</p>
            <p>Automatic roster sync</p>
            <p>League settings import</p>
            <p>Scoring system detection</p>
          </div>
          <div class="feature-card">
            <h4>League Settings</h4>
            <p>Scoring: PPR (1 point per reception)</p>
            <p>Teams: 12</p>
            <p>Roster: 1 QB, 2 RB, 2 WR, 1 TE, 1 FLEX, 1 K, 1 DEF</p>
            <p>Bench: 6 players</p>
          </div>
          <div class="feature-card">
            <h4>Waiver Settings</h4>
            <p>Waiver type: FAAB ($100 budget)</p>
            <p>Waiver period: 2 days</p>
            <p>Weekly resets: Yes</p>
            <p>Waiver priority: Inverse standings</p>
          </div>
          <div class="feature-card">
            <h4>Playoff Settings</h4>
            <p>Playoff teams: 6</p>
            <p>Playoff weeks: 15-17</p>
            <p>Championship week: 17</p>
            <p>Seeding: Regular season record</p>
          </div>
        </div>
      </div>
    </div>

    <div class="status" id="status">Fantasy Hub loaded successfully ‚úÖ</div>

    <!-- Load Fantasy Data Service -->
    <script src="fantasy-data-service.js"></script>
    <script src="fantasy-news-service.js"></script>
    
    <script>
      console.log("Fantasy Hub loaded successfully");

      // Initialize live data when page loads
      let fantasyApp;
      let fantasyNewsApp;
      
      document.addEventListener('DOMContentLoaded', async function() {
        await initializeLiveData();
        await initializeNewsService();
        loadDashboardData();
        
        // Update data every 5 minutes
        setInterval(loadDashboardData, 5 * 60 * 1000);
        setInterval(loadNewsData, 10 * 60 * 1000);
      });

      async function initializeLiveData() {
        console.log('üèà Initializing Fantasy Live Data...');
        
        // Wait for fantasy data service to be available
        let attempts = 0;
        while (!window.fantasyDataService && attempts < 50) {
          await new Promise(resolve => setTimeout(resolve, 100));
          attempts++;
        }
        
        if (window.fantasyDataService) {
          fantasyApp = window.fantasyDataService;
          console.log('‚úÖ Fantasy Data Service connected');
        } else {
          console.warn('‚ö†Ô∏è Fantasy Data Service not found, using mock data');
        }
      }

      async function initializeNewsService() {
        console.log('üì∞ Initializing Fantasy News Service...');
        
        // Wait for fantasy news service to be available
        let attempts = 0;
        while (!window.fantasyNewsService && attempts < 50) {
          await new Promise(resolve => setTimeout(resolve, 100));
          attempts++;
        }
        
        if (window.fantasyNewsService) {
          fantasyNewsApp = window.fantasyNewsService;
          console.log('‚úÖ Fantasy News Service connected');
          loadNewsData();
        } else {
          console.warn('‚ö†Ô∏è Fantasy News Service not found');
        }
      }

      async function loadNewsData() {
        if (!fantasyNewsApp) return;
        
        try {
          // Update injury watch in dashboard
          const injuryReports = fantasyNewsApp.getInjuryAlerts();
          updateInjuryWatch(injuryReports);
          
          // Update breaking news
          const breakingNews = fantasyNewsApp.getBreakingNews(3);
          updateBreakingNews(breakingNews);
          
        } catch (error) {
          console.error('‚ùå Error loading news data:', error);
        }
      }

      async function loadDashboardData() {
        if (!fantasyApp) return;
        
        try {
          console.log('üîÑ Loading live fantasy data...');
          updateStatus('üîÑ Loading live data from APIs...', 'loading');
          
          // Load real player projections
          const projections = await fantasyApp.getPlayerProjections();
          updateCurrentLineup(projections);
          
          // Load waiver wire targets
          const waiverTargets = await fantasyApp.getWaiverWireTargets();
          updateWaiverWire(waiverTargets);
          
          // Load NFL schedule for matchups
          const schedule = await fantasyApp.getNFLSchedule();
          updateMatchupInfo(schedule);
          
          updateStatus('‚úÖ Live data loaded successfully', 'success');
          
        } catch (error) {
          console.error('‚ùå Error loading live data:', error);
          updateStatus('‚ùå Error loading live data', 'error');
        }
      }

      function updateCurrentLineup(projections) {
        const lineupCard = document.querySelector('#dashboard .feature-card');
        if (!lineupCard || !projections.length) return;
        
        // Get top players by position
        const qb = projections.filter(p => p.position === 'QB').slice(0, 1)[0];
        const rbs = projections.filter(p => p.position === 'RB').slice(0, 2);
        const wrs = projections.filter(p => p.position === 'WR').slice(0, 2);
        const te = projections.filter(p => p.position === 'TE').slice(0, 1)[0];
        const flex = projections.filter(p => ['RB', 'WR', 'TE'].includes(p.position)).slice(0, 1)[0];
        
        let totalProjection = 0;
        let lineupHTML = '<h4>Current Lineup (Live Data)</h4>';
        
        if (qb) {
          lineupHTML += `<p><strong>QB:</strong> ${qb.name} (${qb.team}) - ${qb.projection} pts</p>`;
          totalProjection += qb.projection;
        }
        
        rbs.forEach((rb, index) => {
          lineupHTML += `<p><strong>RB${index + 1}:</strong> ${rb.name} (${rb.team}) - ${rb.projection} pts</p>`;
          totalProjection += rb.projection;
        });
        
        wrs.forEach((wr, index) => {
          lineupHTML += `<p><strong>WR${index + 1}:</strong> ${wr.name} (${wr.team}) - ${wr.projection} pts</p>`;
          totalProjection += wr.projection;
        });
        
        if (te) {
          lineupHTML += `<p><strong>TE:</strong> ${te.name} (${te.team}) - ${te.projection} pts</p>`;
          totalProjection += te.projection;
        }
        
        if (flex) {
          lineupHTML += `<p><strong>FLEX:</strong> ${flex.name} (${flex.team}) - ${flex.projection} pts</p>`;
          totalProjection += flex.projection;
        }
        
        lineupHTML += `<p style="color: #4ade80; font-weight: bold">Projected Total: ${totalProjection.toFixed(1)} points</p>`;
        
        lineupCard.innerHTML = lineupHTML;
      }

      function updateInjuryWatch(injuries) {
        const injuryCard = document.querySelector('#dashboard .feature-card:nth-child(3)');
        if (!injuryCard) return;
        
        let injuryHTML = '<h4>Injury Watch (Live Data)</h4>';
        
        if (injuries.length > 0) {
          injuries.slice(0, 4).forEach(injury => {
            const icon = fantasyNewsApp.getStatusIcon(injury.gameStatus);
            injuryHTML += `<p>${icon} ${injury.player} (${injury.team}) - ${injury.injury}</p>`;
          });
        } else {
          injuryHTML += '<p>‚úÖ No major injury concerns this week</p>';
          injuryHTML += '<p>üìÖ Monitor practice reports Wednesday</p>';
        }
        
        injuryCard.innerHTML = injuryHTML;
      }

      function updateBreakingNews(news) {
        const outlookCard = document.querySelector('#dashboard .feature-card:nth-child(4)');
        if (!outlookCard || !news.length) return;
        
        let newsHTML = '<h4>Breaking Fantasy News</h4>';
        
        news.forEach(item => {
          const timeAgo = fantasyNewsApp.formatTimeAgo(item.timestamp);
          newsHTML += `<p>üì∞ ${item.headline} (${timeAgo})</p>`;
        });
        
        if (news.length === 0) {
          newsHTML += '<p>üìà No breaking news - check back later</p>';
        }
        
        outlookCard.innerHTML = newsHTML;
      }

      function updateWaiverWire(targets) {
        const waiverSection = document.getElementById('waivers');
        if (!waiverSection || !targets.length) return;
        
        const topTargetsCard = waiverSection.querySelector('.feature-card');
        if (!topTargetsCard) return;
        
        let waiverHTML = '<h4>Top Waiver Targets (Live Data)</h4>';
        targets.slice(0, 5).forEach((target, index) => {
          waiverHTML += `<p>${index + 1}. ${target.name} (${target.position}, ${target.team}) - ${target.score}% opportunity score</p>`;
        });
        
        topTargetsCard.innerHTML = waiverHTML;
      }

      function updateMatchupInfo(schedule) {
        const matchupCard = document.querySelector('#dashboard .feature-card:nth-child(2)');
        if (!matchupCard || !schedule.length) return;
        
        let matchupHTML = '<h4>This Week\'s Matchups (Live Data)</h4>';
        schedule.slice(0, 4).forEach(game => {
          const gameTime = new Date(game.date).toLocaleDateString();
          matchupHTML += `<p>${game.awayTeam} @ ${game.homeTeam} (${gameTime})</p>`;
        });
        
        matchupCard.innerHTML = matchupHTML;
      }

      function updateStatus(message, type = 'info') {
        const statusElement = document.getElementById('status');
        if (!statusElement) return;
        
        statusElement.textContent = message;
        statusElement.className = 'status';
        
        // Add type-specific styling
        if (type === 'loading') {
          statusElement.style.color = '#fbbf24';
        } else if (type === 'success') {
          statusElement.style.color = '#4ade80';
        } else if (type === 'error') {
          statusElement.style.color = '#f87171';
        }
      }

      function showSection(sectionName) {
        console.log("Showing section:", sectionName);

        // Hide all content sections
        var sections = document.querySelectorAll(".content");
        for (var i = 0; i < sections.length; i++) {
          sections[i].classList.remove("active");
        }

        // Show selected section
        var targetSection = document.getElementById(sectionName);
        if (targetSection) {
          targetSection.classList.add("active");
          updateStatus("Showing " + sectionName + " section ‚úÖ");

          // Load section-specific data
          loadSectionData(sectionName);

          // Scroll to content
          targetSection.scrollIntoView({ behavior: "smooth" });
        } else {
          updateStatus("Error: " + sectionName + " section not found ‚ùå", 'error');
        }
      }

      async function loadSectionData(sectionName) {
        if (!fantasyApp) return;
        
        try {
          switch (sectionName) {
            case 'projections':
              await loadProjectionsData();
              break;
            case 'waivers':
              await loadWaiverData();
              break;
            case 'trades':
              await loadTradeData();
              break;
          }
        } catch (error) {
          console.error(`Error loading ${sectionName} data:`, error);
        }
      }

      async function loadProjectionsData() {
        const projectionsSection = document.getElementById('projections');
        if (!projectionsSection) return;
        
        const projections = await fantasyApp.getPlayerProjections();
        const featureCards = projectionsSection.querySelectorAll('.feature-card');
        
        // Update QB projections
        if (featureCards[0]) {
          const qbs = projections.filter(p => p.position === 'QB').slice(0, 4);
          let qbHTML = '<h4>Top QB Projections (Live)</h4>';
          qbs.forEach(qb => {
            qbHTML += `<p>${qb.name} (${qb.team}): ${qb.projection} pts</p>`;
          });
          featureCards[0].innerHTML = qbHTML;
        }
        
        // Update RB projections
        if (featureCards[1]) {
          const rbs = projections.filter(p => p.position === 'RB').slice(0, 4);
          let rbHTML = '<h4>Top RB Projections (Live)</h4>';
          rbs.forEach(rb => {
            rbHTML += `<p>${rb.name} (${rb.team}): ${rb.projection} pts</p>`;
          });
          featureCards[1].innerHTML = rbHTML;
        }
        
        // Update WR projections
        if (featureCards[2]) {
          const wrs = projections.filter(p => p.position === 'WR').slice(0, 4);
          let wrHTML = '<h4>Top WR Projections (Live)</h4>';
          wrs.forEach(wr => {
            wrHTML += `<p>${wr.name} (${wr.team}): ${wr.projection} pts</p>`;
          });
          featureCards[2].innerHTML = wrHTML;
        }
        
        // Update TE projections
        if (featureCards[3]) {
          const tes = projections.filter(p => p.position === 'TE').slice(0, 4);
          let teHTML = '<h4>Top TE Projections (Live)</h4>';
          tes.forEach(te => {
            teHTML += `<p>${te.name} (${te.team}): ${te.projection} pts</p>`;
          });
          featureCards[3].innerHTML = teHTML;
        }
      }

      async function loadWaiverData() {
        const waiverTargets = await fantasyApp.getWaiverWireTargets();
        const waiverSection = document.getElementById('waivers');
        if (!waiverSection) return;
        
        const featureCards = waiverSection.querySelectorAll('.feature-card');
        
        // Update breakout candidates
        if (featureCards[1]) {
          const breakouts = waiverTargets.filter(t => t.score > 85).slice(0, 3);
          let breakoutHTML = '<h4>Breakout Candidates (Live)</h4>';
          breakouts.forEach(player => {
            breakoutHTML += `<p>${player.name} (${player.position}, ${player.team}) - ${player.reasoning}</p>`;
          });
          featureCards[1].innerHTML = breakoutHTML;
        }

        // Update injury replacements with live injury data
        if (featureCards[2] && fantasyNewsApp) {
          const injuries = fantasyNewsApp.getInjuryAlerts();
          const waiverNews = fantasyNewsApp.getWaiverWireNews();
          
          let injuryHTML = '<h4>Injury Replacements (Live)</h4>';
          
          injuries.slice(0, 2).forEach(injury => {
            const icon = fantasyNewsApp.getStatusIcon(injury.gameStatus);
            injuryHTML += `<p>${icon} Monitor ${injury.player} (${injury.injury})</p>`;
          });
          
          if (waiverNews.length > 0) {
            injuryHTML += `<p>üìà ${waiverNews[0].headline}</p>`;
          }
          
          featureCards[2].innerHTML = injuryHTML;
        }
        
        // Update trending up
        if (featureCards[3]) {
          const trending = waiverTargets.slice(0, 3);
          let trendHTML = '<h4>Trending Up (Live)</h4>';
          trending.forEach(player => {
            trendHTML += `<p>${player.name} (${player.position}, ${player.team}) ${player.trending}</p>`;
          });
          featureCards[3].innerHTML = trendHTML;
        }
      }

      async function loadTradeData() {
        const tradesSection = document.getElementById('trades');
        if (!tradesSection || !fantasyNewsApp) return;
        
        const featureCards = tradesSection.querySelectorAll('.feature-card');
        
        // Update trade tips with relevant news
        if (featureCards[3]) {
          const tradeNews = fantasyNewsApp.getTradeNews();
          const injuries = fantasyNewsApp.getInjuryAlerts();
          
          let tipsHTML = '<h4>Trade Tips (Live Insights)</h4>';
          
          // Add injury-based trade advice
          if (injuries.length > 0) {
            const injuredPlayer = injuries[0];
            tipsHTML += `<p>üí° Consider trading ${injuredPlayer.player} if severity increases</p>`;
          }
          
          // Add news-based insights
          if (tradeNews.length > 0) {
            tipsHTML += `<p>üì∞ ${tradeNews[0].headline}</p>`;
          }
          
          // Default trade tips
          tipsHTML += '<p>üìà Monitor playoff schedules for trade timing</p>';
          tipsHTML += '<p>‚è∞ Trade deadline approaches - act quickly</p>';
          
          featureCards[3].innerHTML = tipsHTML;
        }
        
        console.log('Trade data with live news loaded');
      }

      // Show dashboard by default
      setTimeout(function () {
        showSection("dashboard");
      }, 100);

      // Add click feedback
      var cards = document.querySelectorAll(".nav-card");
      for (var i = 0; i < cards.length; i++) {
        cards[i].addEventListener("click", function () {
          var card = this;
          card.style.transform = "translateY(-5px) scale(0.98)";
          setTimeout(function () {
            card.style.transform = "translateY(-5px) scale(1)";
          }, 150);
        });
      }
    </script>
  </body>
</html>
